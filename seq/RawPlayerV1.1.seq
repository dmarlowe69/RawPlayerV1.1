;**************************************;; RawPlayer V1.1;;**************************************.if Pass1 ;Only need to include these files        ;during assembler's first pass..include geosSym ;get GEOS definitions.include geosMac ;get GEOS macro definitions;Sid Master Volume ControlvolCntrl==$D418.endif.psect ;program code section starts here      ;(GeoLinker will give this an address of $0400);**************************************;;**************************************XX0400: jsr UseSystemFont jsr MouseUp jsr XX0412 jsr XX042D jsr XX04CF jmp EnterDeskTop;**************************************;;**************************************XX0412: lda #192 sta dispBufferOn lda #]XX0422 ; 4 sta r0H lda #[XX0422 ; 34 sta r0L jsr GraphicsString rts;**************************************;;**************************************XX0422: .byte $05,$02 ; NEWPATTERN,2 .byte $01     ; MOVEPENTO .word $0000   ; .byte $00     ; .byte $03     ; RECTANGLETO .word $013F   ;  .byte $C7     ; .byte $00     ; end of graphics table;**************************************;;**************************************XX042D: lda #]XX0439 ; 4 sta r0H lda #[XX0439 ; 57 sta r0L jsr DoIcons rts ;**************************************;;**************************************XX0439: .byte $01     ; number of icons .word $0000   ; x position to place mouse .byte $00     ; y position to place mouse .word $0000   ; pointer to bit map .byte $00     ; x position .byte $00     ; y position .byte $01     ; width in bytes .byte $01     ; height in line .word $0000   ; ptr to handler;**************************************;;**************************************XX0445: lda #]XX0451 ; 4 sta r0H lda #[XX0451 ; 81 sta r0L jsr DoDlgBox rts;**************************************; About Box;**************************************XX0451: .byte $81 .byte $0E .byte $0B .byte $10 .byte $10 .word XX0468 .byte $0B .byte $10 .byte $20 .word XX0483 .byte $0B .byte $10 .byte $30 .word XX04A0 .byte $0B .byte $10 .byte $40 .word XX04BE .byte $00;**************************************; Level 0 Test Application;**************************************XX0468: .byte $18 .byte $4C,$65,$76,$65,$6C .byte $20 .byte $30 .byte $20 .byte $74,$65,$73,$74 .byte $20 .byte $61,$70,$70,$6C,$69,$63,$61,$74,$69,$6F,$6E .byte $1B .byte $00;**************************************; Designed by Denton Marlowe;**************************************XX0483: .byte $18 .byte $44,$65,$73,$69,$67,$6E,$65,$64 .byte $20 .byte $62,$79 .byte $20 .byte $44,$65,$6E,$74,$6F,$6E .byte $20 .byte $4D,$61,$72,$6C,$6F,$77,$65 .byte $1B .byte $00;**************************************; Version 1.0, Copyright 1988;**************************************XX04A0: .byte $18 .byte $56,$45,$52,$53,$49,$4F,$4E .byte $20 .byte $31,$2E,$30,$2C .byte $20 .byte $43,$6F,$70,$79,$72,$69,$67,$68,$74 .byte $20 .byte $31,$39,$38,$38 .byte $1B .byte $00;**************************************; Shadow Systems;**************************************XX04BE: .byte $18 .byte $53,$68,$61,$64,$6F,$77 .byte $20 .byte $53,$79,$73,$74,$65,$6D,$73 .byte $1B .byte $00;**************************************; Main Loop;**************************************XX04CF: nopXX04D0: lda #]XX04EB ; 4 sta r0H lda #[XX04EB ; 235 sta r0L jsr DoDlgBox lda r0L cmp #2 beq XX04E7 jsr XX050F clv bvc XX04D0XX04E7: jsr XX0445 rts;**************************************; Run Test APPLICATION; [CANCEL] [OK];**************************************XX04EB: .byte $81 .byte $0B .byte $0E .byte $14 .word XX04F8 .byte $02    ;[CANCEL] .byte $02 .byte $47 .byte $01    ;[OK] .byte $0F .byte $46 .byte $00;**************************************; Run Test APPLICATION;**************************************XX04F8: .byte $18 .byte $52,$75,$6E .byte $20 .byte $54,$65,$73,$74 .byte $20 .byte $41,$50,$50,$4C,$49,$43,$41,$54,$49,$4F,$4E .byte $1B .byte $00;**************************************;;**************************************XX050F: jsr XX0513 rts;**************************************;;**************************************XX0513:; ptr to File Name Buffer lda #]XX063C ; 6 sta r6H lda #[XX063C ; 60 sta r6L; geso file type lda #3 sta r7L; Max Number Files to List lda #8 sta r7H; prt to Permanet File Name lda #]XX0636 ; 6 sta r10H lda #[XX0636 ; 54 sta r10L; jsr FindFTypes;**************************************;;************************************** lda r7H cmp #8 beq XX0566 lda #6 sta XX063B lda #60 sta XX063AXX053E: lda XX063B sta r6H lda XX063A sta r6L ldy #0 lda (r6L),y beq XX0566 jsr XX0567 cpx #0 bne XX0566 clc lda #17 adc XX063A sta XX063A bcc XX0563 inc XX063BXX0563: clv bvc XX053EXX0566: rts;**************************************;;**************************************XX0567: jsr XX0577 cpx #0 bne XX0576 lda r7H sta XX06C6 jsr XX059DXX0576: rts;**************************************;;**************************************XX0577: lda #1 sta r0L lda #107 sta r2H lda #255 sta r2L lda #20 sta r7H lda #0 sta r7L jsr XX06C7 cpx #0 beq XX0599 cpx #11 beq XX059A jsr XX0709XX0599: rts;**************************************;;**************************************XX059A: ldx #0 rts;**************************************;;**************************************XX059D: lda #20 sta r0H lda #3 sta r0L jsr XX0619 jsr XX0620 lda XX06C6 bne XX05B2 lda #255XX05B2: sta XX05E5+1 lda XX06C4 sta XX05CB+1 sta XX05D9+1 jsr XX05F5 jsr InitForIOXX05C4: lda (r0L),y and #15 sta volCntrlXX05CB: ldx #3 jsr XX0614 lda (r0L),y lsr a lsr a lsr a lsr a sta volCntrlXX05D9: ldx #3 jsr XX0614 iny  bne XX05C4 inc r0H lda r0HXX05E5: cmp #195 bcc XX05C4 lda #0 sta volCntrl jsr DoneWithIO jsr XX0605 rts;**************************************;;**************************************XX05F5: rts;**************************************;;**************************************XX05F6: jsr InitForIO lda grcntrl1 and #239 sta grcntrl1 jsr DoneWithIO rts;**************************************;;**************************************XX0605: jsr InitForIO lda grcntrl1 ora #16 sta grcntrl1 jsr DoneWithIO rts;**************************************;;**************************************XX0614: nop dex bne XX0614 rts;**************************************;;**************************************XX0619: lda $1402 ; <--------------- sta XX06C4 rts;**************************************;;**************************************XX0620: lda XX06C4 cmp #255 beq XX062A inc XX06C4XX062A: rts;**************************************;;**************************************XX062B: lda XX06C4 cmp #0 beq XX0635 dec XX06C4XX0635: rts;**************************************; Permanent File Name "RAW";**************************************XX0636: .byte $52 ; R .byte $41 ; A .byte $57 ; W .byte $00 ; Null;**************************************;;**************************************XX063A: .byte $00;**************************************;;**************************************XX063B: .byte $00;**************************************; File Name Buffer;**************************************XX063C: .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00 .byte $00,$00,$00,$00,$00,$00;**************************************;;**************************************XX06C4: .byte $00;**************************************;;**************************************XX06C5: .byte $14XX06C6: .byte $14;**************************************;;**************************************XX06C7: jsr FindFile cpx #0 beq XX06D2 jsr XX0709 rts;**************************************;;**************************************XX06D2: lda r7H pha lda r7L pha lda #132 sta r9H lda #0 sta r9L jsr GetFHdrInfo lda r0L bne XX06EC pla pla clv bvc XX06F2XX06EC: pla sta r7L pla sta r7HXX06F2: cpx #0 beq XX06FA jsr XX0709 rts;**************************************;;**************************************XX06FA: jsr ReadFile cpx #0 beq XX0708 cpx #11 beq XX0708 jsr XX0709XX0708: rts;**************************************;;**************************************XX0709: rts;**************************************;;**************************************